extends users

block usercontent
  .row.table-responesive
    table.table.table-hover
      thead
        tr
          th
          th.thstyle 用户名
          th.thstyle 用户角色
          th.thstyle 邮箱
          th.thstyle 电话
          th.thstyle QQ
          th.thstyle 学院          
          th.thstyle 地址
          - if (user.role == 2)
            th.thstyle 修改
            th.thstyle 删除
            th.thstyle 权限
      tbody
        - var i = 1
        each u in userlist
          - if (user.role >= u.role)
            - if (user.name == u.name)
              tr.warning
                td= i
                td= u.name
                - if (u.role == 0)
                  td 普通用户
                - else if (u.role == 1)
                  td 管理员
                - else 
                  td 超级管理员
                td= u.email
                td= u.phone
                td= u.QQ
                td= u.college
                td= u.address
                - if (user.role == 2)
                  td
                    a.btn.btn-success.btn-sm(
                      type="button"
                      href="/user/userupdate"
                    )
                      span.glyphicon.glyphicon-pencil(
                        aria-hidden="true"
                      )
                  td
                  td
                - i = i + 1
            - else
              - if (u.role == 2)
                - type = "success"
              - else if (u.role == 1)
                - type = "info"
              - else
                - type = "danger"
              tr(class=type)
                td= i
                td= u.name
                - if (u.role == 0)
                  td 普通用户
                - else if (u.role == 1)
                  td 管理员
                - else 
                  td 超级管理员
                td= u.email
                td= u.phone
                td= u.QQ
                td= u.college
                td= u.address
                - if (user.role == 2)
                  td
                    - if (u.role != 2)  
                      a.btn.btn-success.btn-sm(
                        type="button"
                        href="/user/userlist?action=edituser&name="+u.name
                      )
                        span.glyphicon.glyphicon-pencil(
                          aria-hidden="true"
                        )
                - if (user.role == 2)
                  td
                    - if (u.role != 2)  
                      a.btn.btn-success.btn-sm(
                        type="button"
                        href="/user/userlist?action=deleteuser&name="+u.name
                      )
                        span.glyphicon.glyphicon-remove(
                          aria-hidden="true"
                        )
                - if (user.role == 2)
                  td
                    - if (u.role == 0)
                      a.btn.btn-success.btn-sm(
                        type="button"
                        href="/user/userlist?action=upuserlevel&name="+u.name
                      )
                        span.glyphicon.glyphicon-arrow-up(
                          aria-hidden="true"
                        )
                    - else if (u.role == 1)
                      a.btn.btn-success.btn-sm(
                        type="button"
                        href="/user/userlist?action=downuserlevel&name="+u.name
                      )
                        span.glyphicon.glyphicon-arrow-down(
                          aria-hidden="true"
                        )
                - i = i + 1